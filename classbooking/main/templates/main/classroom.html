{% extends "main/master/index.html" %}
<!---->
{% block title %} Classrooms {% endblock title %}
<!---->
{% block content %}
<div class="container mt-4">
  <div class="content-card">
    <h2>Classrooms</h2>

    {% if request.user.is_staff %}
      <a href="{% url 'classroom_add' %}" class="btn btn-primary mb-3">Add Classroom</a>
    {% endif %}

    <div class="row">
      {% for room in classrooms %}
        <div class="col-md-4">
          <div class="content-card">
            <h5>{{ room.name }}</h5>
            <p>
              Room Number: {{ room.room_number }} <br>
              Hours Left: {{ room.hours_left }} / {{ room.total_hours }} <br>
              Status: {% if room.is_available %}
                <span class="text-success">Available</span>
              {% else %}
                <span class="text-danger">Booked</span>
              {% endif %}
              {% if room.booked_by %}
                <br>Booked by: {{ room.booked_by.username }}
              {% endif %}
            </p>

            {% if request.user.is_staff %}
              <a href="{% url 'classroom_edit' room.id %}" class="btn btn-sm btn-warning">Edit</a>
              <a href="{% url 'classroom_delete' room.id %}" class="btn btn-sm btn-danger display-inline">Delete</a>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock content %}